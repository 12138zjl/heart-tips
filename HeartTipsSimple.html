<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>心形温馨提示</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: "KaiTi", "楷体", "STKaiti", serif;
            overflow-x: hidden;
        }
        #heart-container {
            position: relative;
            width: 90vmin;
            height: 90vmin;
            max-width: 600px;
            max-height: 600px;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .card {
            position: absolute;
            width: 200px;
            height: 100px;
            border-radius: 14px;
            padding: 8px;
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 14px;
            font-weight: normal;
            cursor: default;
            box-shadow: 0 6px 12px rgba(0,0,0,0.18);
            z-index: 10;
            opacity: 0;
            animation: fadeIn 0.5s ease-in-out forwards;
        }
        .card-content {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
            border: 6px solid white;
            box-sizing: border-box;
            word-wrap: break-word;
            padding: 10px;
        }
        @keyframes fadeIn {
            from { opacity: 1; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }
        #start-button {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 15px 30px;
            font-size: 18px;
            background-color: #ff6b81;
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 107, 129, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
            font-family: inherit;
        }
        #start-button:hover {
            background-color: #ff4757;
            transform: translate(-50%, -50%) scale(1.05);
        }
        #start-button:active {
            transform: translate(-50%, -50%) scale(0.95);
        }
        #share-info {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0,0,0,0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
            z-index: 999;
        }
        @media (max-width: 768px) {
            .card {
                width: 150px;
                height: 80px;
            }
            .card-content {
                font-size: 12px;
                padding: 5px;
            }
            #start-button {
                font-size: 16px;
                padding: 12px 24px;
            }
        }
    </style>
</head>
<body>
    <button id="start-button">点击开始显示心形温馨提示</button>
    <div id="heart-container"></div>
    <div id="share-info">提示：您可以将此HTML文件保存并通过任何方式分享链接</div>

    <script>
        // 调度与卡片参数
        const SPAWN_INTERVAL_MS = 160;
        const CARD_WIDTH = 200;
        const CARD_HEIGHT = 100;

        // 外观参数
        const LAST_CARD_TEXT = "訾家乐❤谢苗苗";

        // 提示信息列表
        const tips = [
            "多喝水哦~",
            "保持微笑呀",
            "每天都要元气满满",
            "记得吃水果，保持好心情，好好爱自己",
            "我想你了",
            "梦想成真",
            "期待下一次见面",
            "金榜题名",
            "顺顺利利，早点休息",
            "愿所有烦恼都消失",
            "别熬夜",
            "今天过得开心嘛",
            "天冷了，多穿衣服",
            "今日份好运已送达",
            "去点喜欢的歌吧",
            "记得做拉伸，保护颈椎",
            "深呼吸，放轻松",
            "把小事做好，日子会发光",
            "写下一个小目标",
            "喝杯热茶温暖一下",
            "阳光正好，笑一个",
            "你已经很棒了",
            "别和自己较劲",
            "休息五分钟，继续加油",
            "保持专注，效率翻倍",
            "整理桌面，心情也清爽",
            "适度运动，能量满满",
            "相信自己，万事可期",
            "顺风顺水，心想事成",
            "好运常在，福气满满",
            "努力的你很可爱",
            "发条消息给想念的人",
            "今天也要好好吃饭",
            "晚一点也没关系",
            "去窗边看看风景",
            "给自己一个拥抱",
            "把水杯再添满一次",
            "读两页书，充充电",
            "偶尔停下也很好",
            "写下感恩的三件事",
            "别忘了收藏这份温柔",
            "微小但持续的改变",
            "早点睡，做个好梦",
        ];

        // 背景颜色列表
        const bg_color = [
            "lightpink", "skyblue", "lightgreen", "lavender", "lightyellow",
            "plum", "coral", "bisque", "aquamarine", "mistyrose", "honeydew",
            "lavenderblush", "oldlace"
        ];

        // 生成心形点
        function generateHeartPoints(numPoints = 200) {
            const points = [];
            for (let i = 0; i < numPoints; i++) {
                const t = (i / numPoints) * 2 * Math.PI;
                const x = 16 * Math.pow(Math.sin(t), 3);
                const y = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
                points.push({ x, y });
            }
            return points;
        }

        // 创建卡片
        function createCard(x, y, tipText, containerWidth, containerHeight) {
            // 创建卡片元素
            const card = document.createElement('div');
            card.className = 'card';
            
            // 创建卡片内容
            const cardContent = document.createElement('div');
            cardContent.className = 'card-content';
            cardContent.textContent = tipText;
            
            // 设置随机背景色
            const bg = tipText !== LAST_CARD_TEXT ? bg_color[Math.floor(Math.random() * bg_color.length)] : "lightpink";
            cardContent.style.backgroundColor = bg;
            
            // 将内容添加到卡片
            card.appendChild(cardContent);
            
            // 计算位置，使心形居中在容器中
            const centerX = containerWidth / 2;
            const centerY = containerHeight / 2;
            const scale = Math.min(containerWidth, containerHeight) / 40;
            const posX = centerX + x * scale - CARD_WIDTH / 2;
            const posY = centerY + y * scale - CARD_HEIGHT / 2;
            
            // 设置卡片位置
            card.style.left = `${posX}px`;
            card.style.top = `${posY}px`;
            
            // 如果是最后一张卡片，设置特殊样式
            if (tipText === LAST_CARD_TEXT) {
                card.style.zIndex = "100";
                card.style.transform = "scale(1.2)";
                cardContent.style.fontWeight = "bold";
                cardContent.style.fontSize = "18px";
            }
            
            // 添加到容器
            const container = document.getElementById('heart-container');
            container.appendChild(card);
        }

        // 生成在线分享链接（简化版，实际使用时可能需要后端支持）
        function getShareableLink() {
            // 在实际部署后，这里可以返回完整的URL
            // 目前只返回相对路径信息
            const filename = window.location.pathname.split('/').pop();
            return `您可以将此HTML文件上传到任何静态网站托管服务（如GitHub Pages、Netlify等），然后分享生成的链接。`;
        }

        // 开始动画
        async function startAnimation() {
            // 隐藏开始按钮
            const startButton = document.getElementById('start-button');
            startButton.style.display = 'none';
            
            // 获取容器尺寸
            const container = document.getElementById('heart-container');
            const containerWidth = container.offsetWidth;
            const containerHeight = container.offsetHeight;
            
            // 生成心形点
            const points = generateHeartPoints(200);
            
            // 逐个显示卡片
            for (let i = 0; i < points.length; i++) {
                const { x, y } = points[i];
                // 最后一张卡片显示自定义内容
                const tipText = i === points.length - 1 ? LAST_CARD_TEXT : tips[Math.floor(Math.random() * tips.length)];
                createCard(x, y, tipText, containerWidth, containerHeight);
                // 等待一段时间
                await new Promise(resolve => setTimeout(resolve, SPAWN_INTERVAL_MS));
            }
        }

        // 开始按钮点击事件
        document.getElementById('start-button').addEventListener('click', startAnimation);

        // 窗口大小改变时调整布局
        window.addEventListener('resize', function() {
            const container = document.getElementById('heart-container');
            const cards = container.querySelectorAll('.card');
            const containerWidth = container.offsetWidth;
            const containerHeight = container.offsetHeight;
            const centerX = containerWidth / 2;
            const centerY = containerHeight / 2;
            const scale = Math.min(containerWidth, containerHeight) / 40;
            
            // 重新计算所有卡片的位置
            cards.forEach((card, index) => {
                // 重新生成心形点以匹配当前窗口大小
                const points = generateHeartPoints(200);
                if (index < points.length) {
                    const { x, y } = points[index];
                    const posX = centerX + x * scale - CARD_WIDTH / 2;
                    const posY = centerY + y * scale - CARD_HEIGHT / 2;
                    card.style.left = `${posX}px`;
                    card.style.top = `${posY}px`;
                }
            });
        });
    </script>
</body>

</html>

